:root {
    --bg-gradient: linear-gradient(135deg,#ff7ab6 0%,#7c3aed 45%,#06b6d4 100%);
    --card-gradient: linear-gradient(135deg,#7c3aed 0%,#06b6d4 100%);
    --accent-1: #ff7ab6;
    --accent-2: #7c3aed;
    --accent-3: #06b6d4;
    --glass: rgba(255,255,255,0.06);
    --muted: rgba(255,255,255,0.85);
    --load-time: 3s;
}

* { box-sizing: border-box; }

body {
    margin: 0;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: 'Segoe UI', 'Inter', system-ui, -apple-system, sans-serif;
    background: var(--bg-gradient);
    color: var(--muted);
}

.game-card {
    width: min(920px, 92%);
    background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
    backdrop-filter: blur(6px) saturate(120%);
    padding: 2.25rem;
    border-radius: 18px;
    box-shadow: 0 20px 60px rgba(16,24,40,0.45);
    text-align: center;
    cursor: default;
    border: 1px solid rgba(255,255,255,0.08);
    position: relative;
    overflow: hidden;
}

.game-card::before {
    content: "";
    position: absolute;
    inset: -40%;
    background: radial-gradient(circle at 10% 10%, rgba(255,122,182,0.08), transparent 10%), radial-gradient(circle at 90% 80%, rgba(6,182,212,0.06), transparent 12%);
    transform: rotate(8deg);
    pointer-events: none;
}

.game-card-header {
    display: flex;
    gap: 12px;
    align-items: center;
    justify-content: center;
    margin-bottom: 1rem;
}

.title {
    font-size: 1.6rem;
    font-weight: 700;
    letter-spacing: -0.5px;
    color: white;
    text-shadow: 0 6px 18px rgba(0,0,0,0.35);
}

@keyframes float-up {
    from { transform: translateY(0); }
    to { transform: translateY(-6px); }
}

.game-card:hover { transform: translateY(-6px); transition: transform 400ms ease; }

#sequence-container {
    display: flex;
    gap: 14px;
    margin: 28px 0;
    justify-content: center;
    flex-wrap: wrap;
}

.num-box {
    width: 68px;
    height: 68px;
    line-height: 68px;
    border-radius: 12px;
    font-size: 1.3rem;
    font-weight: 800;
    color: white;
    text-shadow: 0 2px 8px rgba(0,0,0,0.35);
    border: 1px solid rgba(255,255,255,0.06);
    display: inline-block;
    transition: transform 220ms cubic-bezier(.2,.9,.2,1), box-shadow 220ms;
    background: conic-gradient(from 120deg, var(--accent-1), var(--accent-2), var(--accent-3));
    box-shadow: 0 8px 30px rgba(124,58,237,0.18);
}

.num-box:hover { transform: translateY(-10px) scale(1.04); box-shadow: 0 18px 40px rgba(6,182,212,0.18); }

.num-box:nth-child(3n+1) { background: linear-gradient(135deg,#ff7ab6,#ffb86b); }
.num-box:nth-child(3n+2) { background: linear-gradient(135deg,#7c3aed,#6ee7b7); }
.num-box:nth-child(3n)   { background: linear-gradient(135deg,#06b6d4,#60a5fa); }

.input-area input {
    background: rgba(255,255,255,0.03);
    color: white;
    border: 1px solid rgba(255,255,255,0.06);
}

input {
    padding: 10px 12px;
    border-radius: 10px;
    border: none;
    width: 86px;
    font-size: 1.05rem;
    outline: none;
}

button {
    padding: 10px 20px;
    background: linear-gradient(90deg,#ff7ab6 0%,#7c3aed 50%,#06b6d4 100%);
    color: white;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    font-weight: 800;
    letter-spacing: 0.4px;
    box-shadow: 0 10px 30px rgba(124,58,237,0.18);
    transition: transform 160ms ease, box-shadow 160ms ease, opacity 160ms;
}

button:hover { transform: translateY(-4px); box-shadow: 0 18px 40px rgba(6,182,212,0.2); opacity: 0.98; }

.micro-note { font-size: 0.9rem; color: rgba(255,255,255,0.75); margin-top: 10px; }

.loading-screen {
    position: fixed;
    inset: 0;
    background: linear-gradient(180deg, rgba(0,0,0,0.18), rgba(0,0,0,0.35));
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    animation: fadeOut 0.5s ease-in-out var(--load-time) forwards;
}

.spinner {
    width: 56px;
    height: 56px;
    border-radius: 50%;
    background: conic-gradient(var(--accent-1), var(--accent-2), var(--accent-3));
    filter: drop-shadow(0 8px 22px rgba(0,0,0,0.45));
    animation: spin 0.85s linear infinite;
}

.main-content {
    opacity: 0;
    padding: 40px;
    color: white;
    text-align: center;
    animation: reveal 0.8s ease-out calc(var(--load-time) + 0.2s) forwards;
}

#guess, .input-area input {
    /* ensure input text stays visible */
    color: white;
}

/* Placeholder visibility (light = default colorful theme) */
.input-area input::placeholder,
#guess::placeholder {
    color: rgba(255,255,255,0.88);
    opacity: 1; /* some browsers lower placeholder opacity by default */
    font-weight: 600;
}

/* Vendor fallbacks */
.input-area input::-webkit-input-placeholder { color: rgba(255,255,255,0.88); }
.input-area input:-ms-input-placeholder { color: rgba(255,255,255,0.88); }
.input-area input::-ms-input-placeholder { color: rgba(255,255,255,0.88); }

/* Dark-mode placeholder (slightly more muted) */
body.dark .input-area input::placeholder,
body.dark #guess::placeholder {
    color: rgba(255,255,255,0.65);
}

@keyframes spin { to { transform: rotate(360deg); } }

@keyframes fadeOut { from { opacity: 1; visibility: visible; } to { opacity: 0; visibility: hidden; } }

@keyframes reveal { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

@keyframes pulse-glow {
    0% { box-shadow: 0 0 6px 2px rgba(255,122,182,0.12); }
    50% { box-shadow: 0 0 26px 10px rgba(124,58,237,0.12); }
    100% { box-shadow: 0 0 6px 2px rgba(6,182,212,0.08); }
}

.num-box:active { animation: pulse-glow 700ms ease-in-out 1; transform: scale(0.98); }

/* Theme toggle button (top-right) */
.theme-toggle {
    position: fixed;
    top: 18px;
    right: 18px;
    z-index: 10002;
    width: 44px;
    height: 44px;
    padding: 8px;
    border-radius: 999px;
    border: none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background: rgba(255,255,255,0.06);
    box-shadow: 0 6px 18px rgba(2,6,23,0.5);
    cursor: pointer;
    transition: transform 160ms ease, background 160ms ease;
}

.theme-toggle:active { transform: scale(0.96); }

.theme-toggle .icon { width: 20px; height: 20px; fill: white; display: block; transition: opacity 180ms ease, transform 220ms ease; }
.theme-toggle .moon { opacity: 0; transform: scale(.85) rotate(-8deg); }

/* Dark mode overrides applied by adding .dark to <body> */
body.dark {
    background: linear-gradient(180deg,#041226 0%, #071224 100%);
    color: #dbeafe;
}

body.dark .game-card {
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    box-shadow: 0 20px 60px rgba(2,6,23,0.7);
    border: 1px solid rgba(255,255,255,0.04);
}

body.dark .num-box { box-shadow: 0 10px 30px rgba(2,6,23,0.6); color: #e6eef8; }
body.dark .num-box:nth-child(3n+1) { background: linear-gradient(135deg,#6b3b4a,#693f1a); }
body.dark .num-box:nth-child(3n+2) { background: linear-gradient(135deg,#3b2b6b,#234c3b); }
body.dark .num-box:nth-child(3n)   { background: linear-gradient(135deg,#0b5566,#1b376b); }

body.dark button { box-shadow: 0 8px 26px rgba(2,6,23,0.6); }

body.dark .spinner { background: conic-gradient(#334155,#1f2937,#0b1220); filter: none; }

/* Dark-mode tweak for player name: keep readable but slightly lighter */
body.dark #player-name {
    background: rgba(255,255,255,0.06);
    color: #e6eef8;
    border: 1px solid rgba(255,255,255,0.08);
}

/* Toggle icon states */
body.dark .theme-toggle { background: rgba(255,255,255,0.04); }
body.dark .theme-toggle .sun { opacity: 0; transform: scale(.8) rotate(20deg); }
body.dark .theme-toggle .moon { opacity: 1; transform: scale(1) rotate(0); }

/* Accessible focus */
.theme-toggle:focus { outline: 2px solid rgba(255,255,255,0.12); outline-offset: 3px; }

/* Modal (leaderboard & gameover) */
.modal {
    position: fixed;
    inset: 0;
    display: none;
    justify-content: center;
    align-items: center;
    background: rgba(2,6,23,0.55);
    z-index: 10010;
}

.modal[aria-hidden="false"] { display: flex; }

.modal-content {
    width: min(520px, 92%);
    background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
    border-radius: 12px;
    padding: 18px;
    box-shadow: 0 20px 60px rgba(2,6,23,0.6);
    text-align: center;
}

.modal-content h2 { margin-top: 0; }
.leaderboard-list { text-align: left; padding-left: 1rem; max-height: 320px; overflow: auto; margin-bottom: 12px; }
#leaderboard-list li { padding: 8px 6px; border-bottom: 1px dashed rgba(255,255,255,0.04); display:flex; justify-content:space-between; }

/* Player name input: solid, readable in light mode */
#player-name {
    width: 100%;
    padding: 10px;
    margin: 8px 0 12px;
    border-radius: 8px;
    border: 1px solid rgba(0,0,0,0.08);
    background: #ffffff; /* solid white for maximum readability */
    color: #0b1220; /* dark text on white */
    font-weight: 700;
    outline: none;
}

#player-name::placeholder { color: #6b7280; opacity: 1; }
#submit-score { padding: 10px 18px; border-radius: 10px; background: linear-gradient(90deg,#7c3aed,#06b6d4); color: white; border: none; cursor: pointer; }
#submit-score:disabled { opacity: 0.45; cursor: default; }

.top-controls { position: fixed; top: 12px; right: 12px; display:flex; gap:8px; z-index:10003; }
.leaderboard-toggle {
    width:44px;
    height:44px;
    padding:8px;
    border-radius:999px;
    /* pin leaderboard to top-left while keeping theme toggle on top-right */
    position: fixed;
    left: 12px;
    top: 12px;
    z-index: 10004;
    background: rgba(255,255,255,0.06);
    box-shadow: 0 6px 18px rgba(2,6,23,0.5);
}
